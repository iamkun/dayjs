import dayjs from '../../src'
import strict from '../../src/plugin/strict'

dayjs.extend(strict)

describe('strict', () => {
  const validDates = [
    ['2020-02-29T00:00:00.000Z', false],
    ['2020-02-29T23:59:59.999Z', false],
    ['2021-01-01T00:00:00.000Z', false],
    ['2021-01-31T23:59:59.999Z', false],
    ['2021-02-01T00:00:00.000Z', false],
    ['2021-02-28T23:59:59.999Z', false],
    ['2021-03-01T00:00:00.000Z', false],
    ['2021-03-31T23:59:59.999Z', false],
    ['2021-04-01T00:00:00.000Z', false],
    ['2021-04-30T23:59:59.999Z', false],
    ['2021-05-01T00:00:00.000Z', false],
    ['2021-05-31T23:59:59.999Z', false],
    ['2021-06-01T00:00:00.000Z', false],
    ['2021-06-30T23:59:59.999Z', false],
    ['2021-07-01T00:00:00.000Z', false],
    ['2021-07-31T23:59:59.999Z', false],
    ['2021-08-01T00:00:00.000Z', false],
    ['2021-08-31T23:59:59.999Z', false],
    ['2021-09-01T00:00:00.000Z', false],
    ['2021-09-30T23:59:59.999Z', false],
    ['2021-10-01T00:00:00.000Z', false],
    ['2021-10-31T23:59:59.999Z', false],
    ['2021-11-01T00:00:00.000Z', false],
    ['2021-11-30T23:59:59.999Z', false],
    ['2021-12-01T00:00:00.000Z', false],
    ['2021-12-31T23:59:59.999Z', false],
    ['2020-02-29T00:00:00.00', false],
    ['2020-02-29T23:59:59.99', false],
    ['2021-01-01T00:00:00.00', false],
    ['2021-01-31T23:59:59.99', false],
    ['2021-02-01T00:00:00.00', false],
    ['2021-02-28T23:59:59.99', false],
    ['2021-03-01T00:00:00.00', false],
    ['2021-03-31T23:59:59.99', false],
    ['2021-04-01T00:00:00.00', false],
    ['2021-04-30T23:59:59.99', false],
    ['2021-05-01T00:00:00.00', false],
    ['2021-05-31T23:59:59.99', false],
    ['2021-06-01T00:00:00.00', false],
    ['2021-06-30T23:59:59.99', false],
    ['2021-07-01T00:00:00.00', false],
    ['2021-07-31T23:59:59.99', false],
    ['2021-08-01T00:00:00.00', false],
    ['2021-08-31T23:59:59.99', false],
    ['2021-09-01T00:00:00.00', false],
    ['2021-09-30T23:59:59.99', false],
    ['2021-10-01T00:00:00.00', false],
    ['2021-10-31T23:59:59.99', false],
    ['2021-11-01T00:00:00.00', false],
    ['2021-11-30T23:59:59.99', false],
    ['2021-12-01T00:00:00.00', false],
    ['2021-12-31T23:59:59.99', false],
    ['2020-02-29', false],
    ['2020-02-29', false],
    ['2021-01-01', false],
    ['2021-01-31', false],
    ['2021-02-01', false],
    ['2021-02-28', false],
    ['2021-03-01', false],
    ['2021-03-31', false],
    ['2021-04-01', false],
    ['2021-04-30', false],
    ['2021-05-01', false],
    ['2021-05-31', false],
    ['2021-06-01', false],
    ['2021-06-30', false],
    ['2021-07-01', false],
    ['2021-07-31', false],
    ['2021-08-01', false],
    ['2021-08-31', false],
    ['2021-09-01', false],
    ['2021-09-30', false],
    ['2021-10-01', false],
    ['2021-10-31', false],
    ['2021-11-01', false],
    ['2021-11-30', false],
    ['2021-12-01', false],
    ['2021-12-31', false],
    ['2021-01', false],
    ['2021-02', false],
    ['2021-03', false],
    ['2021-04', false],
    ['2021-05', false],
    ['2021-06', false],
    ['2021-07', false],
    ['2021-08', false],
    ['2021-09', false],
    ['2021-10', false],
    ['2021-11', false],
    ['2021-12', false],
    [undefined, false],
    [new Date(), false],
    ['2020-02-29T00:00:00.000Z', true],
    ['2020-02-29T23:59:59.999Z', true],
    ['2021-01-01T00:00:00.000Z', true],
    ['2021-01-31T23:59:59.999Z', true],
    ['2021-02-01T00:00:00.000Z', true],
    ['2021-02-28T23:59:59.999Z', true],
    ['2021-03-01T00:00:00.000Z', true],
    ['2021-03-31T23:59:59.999Z', true],
    ['2021-04-01T00:00:00.000Z', true],
    ['2021-04-30T23:59:59.999Z', true],
    ['2021-05-01T00:00:00.000Z', true],
    ['2021-05-31T23:59:59.999Z', true],
    ['2021-06-01T00:00:00.000Z', true],
    ['2021-06-30T23:59:59.999Z', true],
    ['2021-07-01T00:00:00.000Z', true],
    ['2021-07-31T23:59:59.999Z', true],
    ['2021-08-01T00:00:00.000Z', true],
    ['2021-08-31T23:59:59.999Z', true],
    ['2021-09-01T00:00:00.000Z', true],
    ['2021-09-30T23:59:59.999Z', true],
    ['2021-10-01T00:00:00.000Z', true],
    ['2021-10-31T23:59:59.999Z', true],
    ['2021-11-01T00:00:00.000Z', true],
    ['2021-11-30T23:59:59.999Z', true],
    ['2021-12-01T00:00:00.000Z', true],
    ['2021-12-31T23:59:59.999Z', true],
    ['2020-02-29T00:00:00.00', true],
    ['2020-02-29T23:59:59.99', true],
    ['2021-01-01T00:00:00.00', true],
    ['2021-01-31T23:59:59.99', true],
    ['2021-02-01T00:00:00.00', true],
    ['2021-02-28T23:59:59.99', true],
    ['2021-03-01T00:00:00.00', true],
    ['2021-03-31T23:59:59.99', true],
    ['2021-04-01T00:00:00.00', true],
    ['2021-04-30T23:59:59.99', true],
    ['2021-05-01T00:00:00.00', true],
    ['2021-05-31T23:59:59.99', true],
    ['2021-06-01T00:00:00.00', true],
    ['2021-06-30T23:59:59.99', true],
    ['2021-07-01T00:00:00.00', true],
    ['2021-07-31T23:59:59.99', true],
    ['2021-08-01T00:00:00.00', true],
    ['2021-08-31T23:59:59.99', true],
    ['2021-09-01T00:00:00.00', true],
    ['2021-09-30T23:59:59.99', true],
    ['2021-10-01T00:00:00.00', true],
    ['2021-10-31T23:59:59.99', true],
    ['2021-11-01T00:00:00.00', true],
    ['2021-11-30T23:59:59.99', true],
    ['2021-12-01T00:00:00.00', true],
    ['2021-12-31T23:59:59.99', true],
    ['2020-02-29', true],
    ['2020-02-29', true],
    ['2021-01-01', true],
    ['2021-01-31', true],
    ['2021-02-01', true],
    ['2021-02-28', true],
    ['2021-03-01', true],
    ['2021-03-31', true],
    ['2021-04-01', true],
    ['2021-04-30', true],
    ['2021-05-01', true],
    ['2021-05-31', true],
    ['2021-06-01', true],
    ['2021-06-30', true],
    ['2021-07-01', true],
    ['2021-07-31', true],
    ['2021-08-01', true],
    ['2021-08-31', true],
    ['2021-09-01', true],
    ['2021-09-30', true],
    ['2021-10-01', true],
    ['2021-10-31', true],
    ['2021-11-01', true],
    ['2021-11-30', true],
    ['2021-12-01', true],
    ['2021-12-31', true],
    ['2021-01', true],
    ['2021-02', true],
    ['2021-03', true],
    ['2021-04', true],
    ['2021-05', true],
    ['2021-06', true],
    ['2021-07', true],
    ['2021-08', true],
    ['2021-09', true],
    ['2021-10', true],
    ['2021-11', true],
    ['2021-12', true],
    [undefined, true],
    [new Date(), true]
  ]

  validDates.forEach(([input, utc]) => {
    it(`should return valid date for input ${input} and utc ${utc}`, () => {
      expect(dayjs(input, { utc }).isValid()).toBeTruthy()
    })
  })

  const invalidDates = [
    ['2021-01-00T00:00:00.000Z', false],
    ['2021-01-32T23:59:59.999Z', false],
    ['2021-02-00T00:00:00.000Z', false],
    ['2021-02-29T23:59:59.999Z', false],
    ['2021-03-00T00:00:00.000Z', false],
    ['2021-03-32T23:59:59.999Z', false],
    ['2021-04-00T00:00:00.000Z', false],
    ['2021-04-31T23:59:59.999Z', false],
    ['2021-05-00T00:00:00.000Z', false],
    ['2021-05-32T23:59:59.999Z', false],
    ['2021-06-00T00:00:00.000Z', false],
    ['2021-06-31T23:59:59.999Z', false],
    ['2021-07-00T00:00:00.000Z', false],
    ['2021-07-32T23:59:59.999Z', false],
    ['2021-08-00T00:00:00.000Z', false],
    ['2021-08-32T23:59:59.999Z', false],
    ['2021-09-00T00:00:00.000Z', false],
    ['2021-09-31T23:59:59.999Z', false],
    ['2021-10-00T00:00:00.000Z', false],
    ['2021-10-32T23:59:59.999Z', false],
    ['2021-11-00T00:00:00.000Z', false],
    ['2021-11-31T23:59:59.999Z', false],
    ['2021-12-00T00:00:00.000Z', false],
    ['2021-12-32T23:59:59.999Z', false],
    ['2021-01-01T00:00:60.000Z', false],
    ['2021-01-01T00:60:00.000Z', false],
    ['2021-01-01T24:00:00.000Z', false],
    ['2021-01-00T00:00:00.00', false],
    ['2021-01-32T23:59:59.99', false],
    ['2021-02-00T00:00:00.00', false],
    ['2021-02-29T23:59:59.99', false],
    ['2021-03-00T00:00:00.00', false],
    ['2021-03-32T23:59:59.99', false],
    ['2021-04-00T00:00:00.00', false],
    ['2021-04-31T23:59:59.99', false],
    ['2021-05-00T00:00:00.00', false],
    ['2021-05-32T23:59:59.99', false],
    ['2021-06-00T00:00:00.00', false],
    ['2021-06-31T23:59:59.99', false],
    ['2021-07-00T00:00:00.00', false],
    ['2021-07-32T23:59:59.99', false],
    ['2021-08-00T00:00:00.00', false],
    ['2021-08-32T23:59:59.99', false],
    ['2021-09-00T00:00:00.00', false],
    ['2021-09-31T23:59:59.99', false],
    ['2021-10-00T00:00:00.00', false],
    ['2021-10-32T23:59:59.99', false],
    ['2021-11-00T00:00:00.00', false],
    ['2021-11-31T23:59:59.99', false],
    ['2021-12-00T00:00:00.00', false],
    ['2021-12-32T23:59:59.99', false],
    ['2021-01-01T00:00:60.00', false],
    ['2021-01-01T00:60:00.00', false],
    ['2021-01-01T24:00:00.00', false],
    ['2021-01-00', false],
    ['2021-01-32', false],
    ['2021-02-00', false],
    ['2021-02-29', false],
    ['2021-03-00', false],
    ['2021-03-32', false],
    ['2021-04-00', false],
    ['2021-04-31', false],
    ['2021-05-00', false],
    ['2021-05-32', false],
    ['2021-06-00', false],
    ['2021-06-31', false],
    ['2021-07-00', false],
    ['2021-07-32', false],
    ['2021-08-00', false],
    ['2021-08-32', false],
    ['2021-09-00', false],
    ['2021-09-31', false],
    ['2021-10-00', false],
    ['2021-10-32', false],
    ['2021-11-00', false],
    ['2021-11-31', false],
    ['2021-12-00', false],
    ['2021-12-32', false],
    ['2021-00', false],
    ['2021-13', false],
    ['YYYY-MM', false],
    [null, false],
    ['2021-01-00T00:00:00.000Z', true],
    ['2021-01-32T23:59:59.999Z', true],
    ['2021-02-00T00:00:00.000Z', true],
    ['2021-02-29T23:59:59.999Z', true],
    ['2021-03-00T00:00:00.000Z', true],
    ['2021-03-32T23:59:59.999Z', true],
    ['2021-04-00T00:00:00.000Z', true],
    ['2021-04-31T23:59:59.999Z', true],
    ['2021-05-00T00:00:00.000Z', true],
    ['2021-05-32T23:59:59.999Z', true],
    ['2021-06-00T00:00:00.000Z', true],
    ['2021-06-31T23:59:59.999Z', true],
    ['2021-07-00T00:00:00.000Z', true],
    ['2021-07-32T23:59:59.999Z', true],
    ['2021-08-00T00:00:00.000Z', true],
    ['2021-08-32T23:59:59.999Z', true],
    ['2021-09-00T00:00:00.000Z', true],
    ['2021-09-31T23:59:59.999Z', true],
    ['2021-10-00T00:00:00.000Z', true],
    ['2021-10-32T23:59:59.999Z', true],
    ['2021-11-00T00:00:00.000Z', true],
    ['2021-11-31T23:59:59.999Z', true],
    ['2021-12-00T00:00:00.000Z', true],
    ['2021-12-32T23:59:59.999Z', true],
    ['2021-01-01T00:00:60.000Z', true],
    ['2021-01-01T00:60:00.000Z', true],
    ['2021-01-01T24:00:00.000Z', true],
    ['2021-01-00T00:00:00.00', true],
    ['2021-01-32T23:59:59.99', true],
    ['2021-02-00T00:00:00.00', true],
    ['2021-02-29T23:59:59.99', true],
    ['2021-03-00T00:00:00.00', true],
    ['2021-03-32T23:59:59.99', true],
    ['2021-04-00T00:00:00.00', true],
    ['2021-04-31T23:59:59.99', true],
    ['2021-05-00T00:00:00.00', true],
    ['2021-05-32T23:59:59.99', true],
    ['2021-06-00T00:00:00.00', true],
    ['2021-06-31T23:59:59.99', true],
    ['2021-07-00T00:00:00.00', true],
    ['2021-07-32T23:59:59.99', true],
    ['2021-08-00T00:00:00.00', true],
    ['2021-08-32T23:59:59.99', true],
    ['2021-09-00T00:00:00.00', true],
    ['2021-09-31T23:59:59.99', true],
    ['2021-10-00T00:00:00.00', true],
    ['2021-10-32T23:59:59.99', true],
    ['2021-11-00T00:00:00.00', true],
    ['2021-11-31T23:59:59.99', true],
    ['2021-12-00T00:00:00.00', true],
    ['2021-12-32T23:59:59.99', true],
    ['2021-01-01T00:00:60.00', true],
    ['2021-01-01T00:60:00.00', true],
    ['2021-01-01T24:00:00.00', true],
    ['2021-01-00', true],
    ['2021-01-32', true],
    ['2021-02-00', true],
    ['2021-02-29', true],
    ['2021-03-00', true],
    ['2021-03-32', true],
    ['2021-04-00', true],
    ['2021-04-31', true],
    ['2021-05-00', true],
    ['2021-05-32', true],
    ['2021-06-00', true],
    ['2021-06-31', true],
    ['2021-07-00', true],
    ['2021-07-32', true],
    ['2021-08-00', true],
    ['2021-08-32', true],
    ['2021-09-00', true],
    ['2021-09-31', true],
    ['2021-10-00', true],
    ['2021-10-32', true],
    ['2021-11-00', true],
    ['2021-11-31', true],
    ['2021-12-00', true],
    ['2021-12-32', true],
    ['2021-00', true],
    ['2021-13', true],
    ['YYYY-MM', true],
    [null, true]
  ]

  invalidDates.forEach(([input, utc]) => {
    it(`should return invalid date for input ${input} and utc ${utc}`, () => {
      expect(dayjs(input, { utc }).isValid()).toBeFalsy()
    })
  })
})
